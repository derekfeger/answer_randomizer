<html>
	<head>
		<title>Answer Randomizer</title>
		<meta name="viewport" content="initial-scale=1, maximum-scale=1">
		<link rel="stylesheet" type="text/css" href="./tachyons.min.css">
		<style>
			.choice_item {
				margin-left: 5px;
				background: #eee;
				width: 4rem;
				height: 4rem;
				font-weight: bold;
				text-align: center;
				line-height: 4rem;
				font-size: 1rem;
				
			}
		</style>
	</head>
	
	<body class="sans-serif w-100">
		<div class="w-80 center mt2">
			<h1 class="f1 f-subheadline-ns tc mb3">Answer Randomizer</h1>
			<div class="center mb3" id="choices">
				<div class="dib flex flex-wrap items-center justify-center mt0" id="choices_list"></div>
				<input class="db center w-50 w-20-ns tc f3 f2-ns mb2 ba bw1 br2 pa2" id="new_choice" type="text">
				<a class="db mb4 center tc f4 f3-ns link grow ba br-pill bw1 ph2 pv2 black w-80 w-20-ns" id="choices_button" href="#choices_button">Add a Choice</a>
			</div>
			
			<div class="db mv3">
				<label class="db tc f3 f2-ns mb2" for="n_questions">Number of Questions</label>
				<input class="db center f3 f2-ns tc w-50 w-20-ns ba bw1 br2 pa2" id="n_questions" type="number" min="1" step="1" value="1" pattern="\d*" />
			</div>
			
			<div class="db center mv3">
				<label class="db tc f3 f2-ns mb2" for="starting_q">Starting Question</label>
				<input class="db center f3 f2-ns tc w-50 w-20-ns ba bw1 br2 pa2" id="starting_q" type="number" min="1" step="1" value="1" pattern="\d*" />
			</div>

			<a class="db mv4 center tc f4 f3-ns link grow ba br-pill bw1 ph2 pv2 black w-80 w-20-ns" id="generate" href="#results">Generate Answers</a>
			
			

			<div id="results">
				<table class="f4 w-100 w-50-ns center" cellspacing="0">
					<thead id="tableheader">

					</thead>
					<tbody class="lh-copy" id="answers_list">
						
					</tbody>
				</table>
			</div>
		</div>
	</body>
	<script type="text/javascript">
		var choices = [];
		
		//Selections of page elements
		var choicesButton = document.getElementById('choices_button');
		var choicesList = document.getElementById('choices_list');
		var newChoiceInput = document.getElementById('new_choice');
		var nQuestions = document.getElementById('n_questions');
		var qStart = document.getElementById('starting_q');
		var generateButton = document.getElementById('generate');
		var tableHeader = document.getElementById('tableheader');
		var answersList = document.getElementById('answers_list');
		
		//Event Listeners
		choicesButton.addEventListener('click', addChoice);
		newChoiceInput.addEventListener('keyup', addOnEnter);
		generateButton.addEventListener('click', generateAnswers);
		
		function addOnEnter(e) {
			if (e.key === 'Enter') {
				addChoice();
			}
		}
		
		function addChoice() {
			newChoice = newChoiceInput.value;
			
			//Update screen with new choice
			newItem = '<p class="choice_item">' + newChoice + '</p>';
			choicesList.innerHTML += newItem;
			
			//Push new choice to array
			choices.push(newChoice)
			
			//Reset the input
			newChoiceInput.value = ''
		}
		
		function generateAnswers() {
			//Clear answers list
			tableHeader.innerHTML = '<tr class="striped--light-gray pa3"><th class="tl pa3 bg-white">Question</th><th class="tl pa3 bg-white">Answer</th></tr>'
			answersList.innerHTML = ''

			//Collect results
			results = [];
			for (var i = 0; i < nQuestions.value; i++) {
				pick = choices[Math.floor(Math.random() * choices.length)];
				results.push(pick);
			}
			
			//Publish results to page
			for (var i =0; i < results.length; i++) {
				result = results[i];
				q_num = parseInt(qStart.value) + i
				resultObject = '<tr class="striped--light-gray"><td class="pa3">' + q_num + '</td><td class="pa3">' + result + '</td></tr>';
				answersList.innerHTML += resultObject;
			}
		}
		
		
	</script>
</html>

