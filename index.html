<html>
	<head>
		<title>Answer Randomizer</title>
		<link rel="stylesheet" type="text/css" href="./tachyons.min.css">
		<style>
			.choice_item {
				margin-left: 5px;
				background: #ddd;
				width: 100px;
				height: 100px;
				font-weight: bold;
				text-align: center;
				line-height: 100px;
				font-size: 2rem;
				
			}
		</style>
	</head>
	
	<body class="sans-serif">
		<div class="w-80 center mt4">
			<h1 class="f-subheadline tc mb3">Answer Randomizer</h1>
			<div class="center mb3" id="choices">
				<div class="db flex flex-wrap items-center justify-center" id="choices_list"></div>
				<input class="db center w-80 w-20-ns tc f2 mb2" id="new_choice" type="text">
				<button class="db center f2" id="choices_button">Add a choice</button>
			</div>
			
			<div class="db mv3">
				<label class="db tc f1 mb2" for="n_questions">Number of Questions</label>
				<input class="db center f1 tc" id="n_questions" type="number" min="1" step="1" value="1">
			</div>
			
			<div class="db center mv3">
				<label class="db tc f1 mb2" for="starting_q">Starting Question</label>
				<input class="db center f1 tc" id="starting_q" type="number" min="1" step="1" value="1">
			</div>

			<button class="db center f2" id="generate">Generate randomized answers</button>
			
			<table id="answers_list"></table>
		</div>
	</body>
	<script type="text/javascript">
		var choices = [];
		
		//Selections of page elements
		var choicesButton = document.getElementById('choices_button');
		var choicesList = document.getElementById('choices_list');
		var newChoiceInput = document.getElementById('new_choice');
		var nQuestions = document.getElementById('n_questions');
		var qStart = document.getElementById('starting_q');
		var generateButton = document.getElementById('generate');
		var answersList = document.getElementById('answers_list');
		
		//Event Listeners
		choicesButton.addEventListener('click', addChoice);
		newChoiceInput.addEventListener('keyup', addOnEnter);
		generateButton.addEventListener('click', generateAnswers);
		
		function addOnEnter(e) {
			if (e.key === 'Enter') {
				addChoice();
			}
		}
		
		function addChoice() {
			newChoice = newChoiceInput.value;
			
			//Update screen with new choice
			newItem = '<p class="choice_item">' + newChoice + '</p>';
			choicesList.innerHTML += newItem;
			
			//Push new choice to array
			choices.push(newChoice)
			
			//Reset the input
			newChoiceInput.value = ''
		}
		
		function generateAnswers() {
			//Clear answers list
			answersList.innerHTML = '<tr><th>Question</th><th>Answer</th></tr>'
			
			//Collect results
			results = [];
			for (var i = 0; i < nQuestions.value; i++) {
				pick = choices[Math.floor(Math.random() * choices.length)];
				results.push(pick);
			}
			
			//Publish results to page
			for (var i =0; i < results.length; i++) {
				result = results[i];
				q_num = parseInt(qStart.value) + i
				resultObject = '<tr><td>' + q_num + '</td><td>' + result + '</td></tr>';
				answersList.innerHTML += resultObject;
			}
		}
		
		
	</script>
</html>

